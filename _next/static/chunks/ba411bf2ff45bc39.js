(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71935,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return o}});let o=e=>{}},87449,(e,t,r)=>{t.exports=e.r(42678)},56533,e=>{"use strict";var t=e.i(84409),r=e.i(24445);let o=(0,r.createContext)();e.s(["AuthProvider",0,e=>{let{children:a}=e,[n,s]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("auth_user"),t=localStorage.getItem("auth_token"),r=localStorage.getItem("auth_expiry");e&&t&&r&&(new Date(r)>new Date?s(JSON.parse(e)):i()),u(!1)},[]);let l=async(e,t)=>{try{let r=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",r),a=Array.from(new Uint8Array(o)).map(e=>e.toString(16).padStart(2,"0")).join(""),n=await fetch("".concat("https://script.google.com/macros/s/AKfycbz8E80OOXc9pjXZos9XHuxwT1DkwXZqVshjRPX7DVfEdCDGEYaB89w8P2oyRRQGJSYI4A/exec","?action=login&username=").concat(encodeURIComponent(e),"&passwordHash=").concat(a),{method:"GET"}),c=await n.json();if(!c.success)return{success:!1,error:c.error||"Credenciais invÃ¡lidas"};{let t={username:c.username,name:c.name,role:c.role},r=btoa("".concat(e,":").concat(Date.now())),o=new Date;return o.setHours(o.getHours()+8),localStorage.setItem("auth_user",JSON.stringify(t)),localStorage.setItem("auth_token",r),localStorage.setItem("auth_expiry",o.toISOString()),s(t),{success:!0}}}catch(e){return console.error("Erro no login:",e),{success:!1,error:"Erro ao conectar com o servidor"}}},i=()=>{localStorage.removeItem("auth_user"),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_expiry"),s(null)};return(0,t.jsx)(o.Provider,{value:{user:n,loading:c,login:l,logout:i,isAuthenticated:()=>null!==n},children:a})},"useAuth",0,()=>{let e=(0,r.useContext)(o);if(!e)throw Error("useAuth deve ser usado dentro de um AuthProvider");return e}])}]);